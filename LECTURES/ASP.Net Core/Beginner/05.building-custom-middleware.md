# Building Custom Middleware

- app.Use(Func<RequestDelegate, RequestDelegate> middleware)

```<c#>
    /// Request Delegate Signature
    private Task RequestDelegate(HttpContext context);

    /// Example
    private RequestDelegate SayHelloMiddleWare(RequestDelegate arg) {
        return async ctx => {
            if (ctx.Request.Path.StartsWithSegments("/hello")) {
                /// This will write Hello World to the browser page and breaks from Pipeline Processing
                await ctx.Response.WriteAsync("Hello, World!");
            } else {
                /// Does not Start with /hello
                await next(ctx);
                if (ctx.Response.StatusCode == 200) {
                    awiat ctx.Response.WriteAsync("Got a Response");
                }
            }
        };
    }

    /// Usage in Midleware
    public void Configure(env, app) {
        app.Use(SayHelloMiddleWare);
    }
```
